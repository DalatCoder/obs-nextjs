## Deploy Dự Án Lên Vercel

### Tổng quan về Vercel

**Vercel** là nền tảng hosting (lưu trữ) tiêu chuẩn cho các dự án Next.js vì chính Vercel là công ty phát triển framework này. Vercel được tối ưu hóa tốt cho Next.js với các tính năng như:

- Image optimization (tối ưu hóa hình ảnh)
- Cache (bộ nhớ đệm)
- Build process (quy trình xây dựng) tự động

**Gói miễn phí (Free Tier):**

- Khá hào phóng cho các dự án cá nhân
- Nếu cần thêm tính năng hoặc có lượng traffic lớn, chi phí có thể lên đến \$20/user/tháng

**Các lựa chọn thay thế:**

- CloudFlare
- Netlify
- Các nền tảng hosting khác (tham khảo OpenNext.js.org để dễ dàng hosting ngoài Vercel)


### Các bước triển khai

#### 1. Đăng nhập và tạo dự án mới

- Truy cập vercel.com
- Đăng nhập hoặc đăng ký tài khoản miễn phí
- Click **Add New Project**


#### 2. Import Git Repository

- Chọn repository từ GitHub (repository đã tạo ở bước trước)
- Vercel tự động nhận diện đây là dự án Next.js
- Đặt tên cho dự án (ví dụ: `the-wild-oasis-website`)


#### 3. Cấu hình môi trường

**Root directory:** Giữ nguyên mặc định

**Environment Variables** (biến môi trường):

- Sao chép toàn bộ nội dung file `.env.local` từ dự án
- Paste vào ô đầu tiên trong phần Environment Variables
- Vercel sẽ tự động phân tích và điền tất cả các biến


#### 4. Deploy

Click nút **Deploy** và Vercel sẽ:

- Chạy lệnh `npm run build`
- Build dự án từ đầu (không có build cache)
- Hiển thị output trong terminal với các warning (cảnh báo) nếu có
- Hoàn tất deployment


### Sau khi deploy thành công

#### URL của dự án

Vercel cung cấp 2 loại URL:

- URL mặc định: `[tên-dự-án].vercel.app` (ví dụ: `demo.vercel.app`)
- URL build cụ thể với mã ngẫu nhiên


#### Kiểm tra website

Các tính năng hoạt động bình thường:

- Image optimization: Hình ảnh sẽ bị blur (mờ) lúc đầu rồi hiển thị rõ khi được tối ưu
- Navigation (điều hướng): Hoạt động mượt mà
- Pre-fetching: Một số trang load ngay lập tức
- Loading states: Spinner hiển thị khi cần
- Blurring effects: Hiệu ứng làm mờ hình ảnh hoạt động tốt


### Vấn đề cần khắc phục

#### Lỗi Authentication Redirect

**Hiện tượng:**
Khi click nút đăng nhập, người dùng bị redirect (chuyển hướng) về `localhost:3000` thay vì URL production.

**Nguyên nhân:**

- Environment variables vẫn chứa giá trị cũ (localhost)
- URL trong Google Developer Console chưa được cập nhật để phù hợp với production URL

**Giải pháp:**
Cần cập nhật:

1. Environment variables trên Vercel với URL production mới
2. Authorized redirect URIs (URI chuyển hướng được phép) trong Google Developer Console

### Ghi chú thêm

**Quy trình build:**

- Vercel sử dụng cùng lệnh build như local: `npm run build`
- Build từ đầu nếu không có cache
- Output hiển thị đầy đủ trong console để debug nếu cần

**Performance:**

- Image optimization tự động được áp dụng
- Website sẵn sàng chia sẻ với mọi người ngay sau khi deploy

***

**Liên kết:** [[Vercel]], [[Deployment]], [[Next.js]], [[Environment Variables]], [[Git Repository]], [[Image Optimization]], [[Cache]], [[Build Process]], [[Authentication]], [[Google Developer Console]], [[Production]], [[Redirect URI]], [[CloudFlare]], [[Netlify]]

