## Cải Thiện Navigation Và Root Layout

### Cập Nhật Navigation Component

**Vấn đề hiện tại:** Navigation chỉ là danh sách các links đơn giản, không có styling.

**Giải pháp:** Thay thế bằng navigation component có sẵn trong starter files với Tailwind styling.

**Cập nhật Link component:**

```javascript
// app/_components/Navigation.js
import Link from 'next/link'

export default function Navigation() {
  return (
    <nav>
      <ul className="flex gap-16 text-xl">
        <li>
          <Link href="/cabins">Cabins</Link>
        </li>
        <li>
          <Link href="/about">About</Link>
        </li>
        <li>
          <Link href="/account">Account</Link>
        </li>
      </ul>
    </nav>
  )
}
```

**Lưu ý quan trọng:**

```
- Thay thế thẻ `<a>` bằng component `<Link>` từ Next.js
```

- `Link` component vẫn sử dụng prop `href` giống thẻ `a`
- Không cần thay đổi gì khác ngoài việc import và thay thế tag

**Kết quả:**

- Text lớn hơn với `text-xl`
- Các items xếp ngang với `flex`
- Khoảng cách đều với `gap-16`
- Single Page Application navigation vẫn hoạt động


### Thêm Header Component

**Cấu trúc ban đầu:**

```javascript
// app/layout.js (trước)
export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <header>
          <Logo />
          <Navigation />
        </header>
        <main>{children}</main>
      </body>
    </html>
  )
}
```

**Cải thiện với Header component:**

```javascript
// app/_components/Header.js
import Logo from './Logo'
import Navigation from './Navigation'

export default function Header() {
  return (
    <header className="border-b border-primary-900 px-8 py-5">
      <div className="flex justify-between items-center max-w-7xl mx-auto">
        <Logo />
        <Navigation />
      </div>
    </header>
  )
}
```

**Áp dụng vào layout:**

```javascript
// app/layout.js (sau)
import Header from '@/app/_components/Header'

export default function RootLayout({ children }) {
  return (
    <html>
      <body>
        <Header />
        <main>{children}</main>
      </body>
    </html>
  )
}
```

**Styling được áp dụng:**

- `border-b border-primary-900`: Viền dưới tinh tế
- `px-8 py-5`: Padding ngang và dọc
- `flex justify-between items-center`: Flexbox layout với logo bên trái, navigation bên phải
- `max-w-7xl mx-auto`: Giới hạn độ rộng và căn giữa


### Xây Dựng Main Layout

**Mục tiêu:** Tạo layout với nội dung căn giữa, chiếm toàn bộ chiều cao viewport, có padding phù hợp.

**Bước 1: Giới hạn độ rộng và căn giữa**

```javascript
<main className="max-w-7xl bg-red-500 mx-auto">
  {children}
</main>
```

**Giải thích classes:**

- `max-w-7xl`: Chiều rộng tối đa 80rem (1280px)
- `mx-auto`: Margin trái và phải auto để căn giữa
- `bg-red-500`: Background tạm để visualize (sẽ xóa sau)

**Bước 2: Tạo Flexbox layout với full height**

```javascript
export default function RootLayout({ children }) {
  return (
    <html>
      <body className="flex flex-col min-h-screen">
        <Header />
        <div className="flex-1 px-8 py-12">
          <main className="max-w-7xl mx-auto">
            {children}
          </main>
        </div>
      </body>
    </html>
  )
}
```

**Cấu trúc Flexbox:**

```
body (flex container, flex-col, min-h-screen)
├── Header (fixed height)
└── div (flex-1 - chiếm toàn bộ space còn lại)
    └── main (max-w-7xl, centered)
```

**Giải thích các classes:**

**Body styling:**

- `flex`: Biến body thành flex container
- `flex-col`: Stack các phần tử theo chiều dọc (column direction)
- `min-h-screen`: Chiều cao tối thiểu 100vh (toàn bộ viewport)

**Div wrapper styling:**

- `flex-1`: Chiếm toàn bộ không gian còn lại sau khi trừ header
- `px-8`: Padding ngang 2rem (32px)
- `py-12`: Padding dọc 3rem (48px)

**Main content styling:**

- `max-w-7xl`: Giới hạn độ rộng nội dung
- `mx-auto`: Căn giữa nội dung


### CSS Flexbox Layout Pattern

**Cơ chế hoạt động:**

**1. Body là flex container:**

```javascript
className="flex flex-col min-h-screen"
```

- Tạo flex container với hướng dọc
- Đảm bảo chiếm toàn bộ viewport height

**2. Header với height cố định:**

```javascript
<Header />
```

- Tự động chiếm height cần thiết cho nội dung
- Không có flex properties, nên giữ nguyên kích thước

**3. Wrapper div với flex-1:**

```javascript
className="flex-1 px-8 py-12"
```

- `flex-1` tương đương `flex: 1 1 0%`
- Chiếm toàn bộ không gian còn lại
- Đẩy footer xuống cuối (nếu có)

**Visualization:**

```
┌─────────────────────────────────┐
│         Header (auto)           │ ← Fixed height
├─────────────────────────────────┤
│                                 │
│      Content Wrapper            │
│      (flex-1)                   │ ← Takes remaining space
│                                 │
│    ┌───────────────────┐       │
│    │   Main Content    │       │ ← Max width + centered
│    │   (max-w-7xl)     │       │
│    └───────────────────┘       │
│                                 │
└─────────────────────────────────┘
```


### Predefined Tailwind Values

**Max Width Scale:**

```javascript
className="max-w-7xl"
```

Hover để xem giá trị CSS tương ứng:

- `max-w-7xl`: 80rem (1280px)
- `max-w-6xl`: 72rem (1152px)
- `max-w-5xl`: 64rem (1024px)
- `max-w-4xl`: 56rem (896px)

**Padding/Margin Scale:**

```javascript
className="px-8 py-12"
```

- `px-8`: padding-left và padding-right = 2rem (32px)
- `py-12`: padding-top và padding-bottom = 3rem (48px)
- `gap-16`: 4rem (64px)

**Lợi ích của predefined values:**

- Các giá trị đã được thiết kế để trông đẹp mắt
- Tạo sự nhất quán trong toàn bộ ứng dụng
- Không cần tự tính toán spacing values
- Phù hợp cho developers không giỏi design


### Padding Strategy

**Áp dụng padding vào wrapper div thay vì main:**

```javascript
// Đúng ✓
<div className="flex-1 px-8 py-12">
  <main className="max-w-7xl mx-auto">
    {children}
  </main>
</div>

// Sai ✗
<div className="flex-1">
  <main className="max-w-7xl mx-auto px-8 py-12">
    {children}
  </main>
</div>
```

**Lý do:**

- Padding ở outer div đảm bảo max-width vẫn giữ nguyên
- Nội dung căn giữa chính xác với navigation
- Padding áp dụng đều cho toàn bộ content area

**So sánh:**

```
Với padding ở outer div:
┌────────┬─────────────┬────────┐
│ Pad    │   Content   │ Pad    │
│ 32px   │   1280px    │ 32px   │
└────────┴─────────────┴────────┘

Với padding ở main:
┌──────────────────────────────────┐
│        Content + Padding         │
│       (1280px + 64px)            │
└──────────────────────────────────┘
```


### Cải Thiện Font Rendering

**Thêm antialiased class:**

```javascript
<body className="flex flex-col min-h-screen antialiased">
  <Header />
  <div className="flex-1 px-8 py-12">
    <main className="max-w-7xl mx-auto">
      {children}
    </main>
  </div>
</body>
```

**Tác dụng của antialiased:**

- Làm mượt edges của fonts
- Text render đẹp hơn trên màn hình
- CSS tương ứng: `-webkit-font-smoothing: antialiased`


### Debugging Layout

**Sử dụng background colors tạm thời:**

```javascript
// Để xem structure
<main className="max-w-7xl mx-auto bg-red-500">
  {children}
</main>

<div className="flex-1 px-8 py-12 bg-blue-500">
  <main className="max-w-7xl mx-auto">
    {children}
  </main>
</div>
```

**Lợi ích:**

- Visualize các phần tử layout
- Xác định kích thước và vị trí
- Debug spacing issues
- Nhớ xóa sau khi hoàn thành


### Layout Structure Hoàn Chỉnh

**Code cuối cùng:**

```javascript
import { Josefin_Sans } from 'next/font/google'
import Header from '@/app/_components/Header'
import '@/app/_styles/globals.css'

const josefin = Josefin_Sans({
  subsets: ['latin'],
  display: 'swap'
})

export const metadata = {
  title: {
    template: '%s / The Wild Oasis',
    default: 'Welcome / The Wild Oasis'
  },
  description: 'Luxurious cabin hotel located in the heart of the Italian Dolomites, surrounded by beautiful mountains and dark forests'
}

export default function RootLayout({ children }) {
  return (
    <html lang="en">
      <body className={`${josefin.className} flex flex-col min-h-screen bg-primary-950 text-primary-50 antialiased`}>
        <Header />
        <div className="flex-1 px-8 py-12">
          <main className="max-w-7xl mx-auto">
            {children}
          </main>
        </div>
      </body>
    </html>
  )
}
```

**Các classes được áp dụng:**

- `flex flex-col min-h-screen`: Flexbox layout với full viewport height
- `bg-primary-950 text-primary-50`: Custom colors
- `antialiased`: Font smoothing
- Template literal để combine multiple classNames


### Responsive Considerations

**Mobile responsiveness:** Các giá trị hiện tại đã khá tốt cho mobile nhờ:

- `max-w-7xl` giới hạn độ rộng trên desktop
- `px-8` tạo padding đủ lớn trên mobile
- Flexbox tự động adapt cho các screen sizes

**Cải thiện responsive (optional):**

```javascript
<div className="flex-1 px-4 sm:px-8 py-8 sm:py-12">
  <main className="max-w-7xl mx-auto">
    {children}
  </main>
</div>
```

- `px-4 sm:px-8`: Padding nhỏ hơn trên mobile
- `py-8 sm:py-12`: Vertical padding adaptive


### CSS Magic với Tailwind

**Kỹ thuật được sử dụng:**

**1. Flexbox for vertical layout:**

- Parent: `flex flex-col`
- Child với fixed height (header)
- Child với flex-1 (main area)

**2. Centering content:**

- Horizontal: `mx-auto`
- Vertical alignment trong flex: `items-center`
- Justify content: `justify-between`, `justify-center`

**3. Spacing system:**

- Margin: `m-`, `mx-`, `my-`, `mt-`, etc.
- Padding: `p-`, `px-`, `py-`, `pt-`, etc.
- Gap: `gap-4`, `gap-8`, `gap-16`

**4. Responsive utilities:**

- Mobile-first approach
- Breakpoint prefixes: `sm:`, `md:`, `lg:`, `xl:`


### Chuẩn Bị Cho Image Optimization

Layout này đặt nền tảng cho việc thêm background images và optimize images trong Next.js - chủ đề của bài học tiếp theo.

**Điểm quan trọng:**

- Full height layout sẵn sàng cho background images
- Max width container phù hợp với image widths
- Padding đảm bảo images không bị crop trên mobile
- Structure rõ ràng, dễ thêm các elements khác

***

**Liên kết:** [[Next.js]], [[Tailwind CSS]], [[Flexbox]], [[Layout]], [[Navigation]], [[Header]], [[Responsive Design]], [[CSS]], [[Image Optimization]], [[Component Structure]], [[Viewport Height]], [[Spacing System]]

