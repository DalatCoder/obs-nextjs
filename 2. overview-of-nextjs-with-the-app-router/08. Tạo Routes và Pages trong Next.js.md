## Tạo Routes và Pages trong Next.js

### File-based Routing

Next.js sử dụng file-based routing (định tuyến dựa trên file), khác hoàn toàn với React Router trong Single Page Applications. Không cần viết boilerplate code phức tạp - chỉ cần tạo folders và files theo convention (quy ước).

Để tạo route mới, thực hiện hai bước:

1. Tạo folder với tên route trong thư mục `app/`
2. Tạo file `page.js` bên trong folder đó

### Ví dụ tạo route cơ bản

Để tạo route `/cabins`, tạo cấu trúc như sau:

```
app/
  cabins/
    page.js
```

Nội dung file `page.js`:

```javascript
export default function Page() {
  return <h1>This is the cabins page</h1>;
}
```

Mỗi page trong Next.js là một React component được export từ file `page.js`. Đây thực chất là React Server Component, có nghĩa là JavaScript code được server-side rendered (kết xuất phía máy chủ).

### Nested Routes (Routes lồng nhau)

Để tạo URL với nhiều segments (phân đoạn) như `/cabins/test`, tạo cấu trúc folder lồng nhau:

```
app/
  cabins/
    page.js
    test/
      page.js
```

Mỗi folder tương ứng với một segment trong URL:

- `app/` = root (/)
- `cabins/` = /cabins
- `test/` = /cabins/test


### Thiết lập routes cho dự án

Dự án Wild Oasis Website cần ba routes chính:

**Route /cabins:**

```
app/cabins/page.js
```

**Route /about:**

```
app/about/page.js
```

**Route /account:**

```
app/account/page.js
```

**Homepage (/):**

```
app/page.js
```

Ví dụ nội dung các pages:

```javascript
// app/page.js
export default function Page() {
  return <h1>The Wild Oasis. Welcome to paradise</h1>;
}

// app/about/page.js
export default function Page() {
  return <h1>About The Wild Oasis</h1>;
}

// app/account/page.js
export default function Page() {
  return <h1>Your account</h1>;
}
```


### VS Code Custom Labels (Tùy chọn)

Khi có nhiều file `page.js`, việc phân biệt chúng trong VS Code có thể khó khăn. Sử dụng tính năng Custom Labels để hiển thị tên dễ đọc hơn:

1. Bật setting "Custom Labels" trong VS Code
2. Thêm pattern: `app/**/page.js`
3. Đặt label format: `page ${dirname}` hoặc `${dirname}`

Kết quả: Thay vì hiển thị nhiều tab "page.js", sẽ thấy "page cabins", "page about", "page account" - dễ nhận biết hơn nhiều.

### Convention Files khác

Ngoài `page.js`, Next.js có các convention files khác:

- `layout.js`: Định nghĩa layout (bố cục) chung
- `loading.js`: Hiển thị loading state (trạng thái tải)
- `error.js`: Xử lý error boundaries (ranh giới lỗi)

Nếu xóa `layout.js` trong root, Next.js tự động tạo lại file này vì mọi ứng dụng cần root layout.

### Điểm khác biệt với React Router

- **React Router:** Cần viết code để define routes, setup Router component, sử dụng Route components
- **Next.js:** Chỉ cần tạo folders và files theo convention - không cần code thiết lập

Điều này giúp giảm thiểu boilerplate code và tăng tốc độ phát triển.

### Ghi chú thêm

Component name trong `page.js` có thể đặt tùy ý (ví dụ: `CabinsPage`, `AboutPage`), nhưng convention thường đặt là `Page` để đồng nhất.

Các routes này hiện chưa có navigation links (liên kết điều hướng) để di chuyển giữa các trang. Phần tiếp theo sẽ học cách implement navigation.

**Liên kết:** [[File-based Routing]], [[Next.js]], [[App Router]], [[React Server Component]], [[Server-Side Rendering]], [[Convention Files]], [[Nested Routes]], [[VS Code Custom Labels]]

