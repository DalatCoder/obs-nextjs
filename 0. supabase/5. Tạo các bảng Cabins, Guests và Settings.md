## Tạo các bảng Cabins, Guests và Settings

### Tạo bảng Cabins

#### Thiết lập cơ bản

- Tên bảng: **`cabins`**
- Bật **Row Level Security** (RLS) - sẽ tìm hiểu thêm về tính năng này sau.


#### Các cột (columns) trong bảng Cabins

Mỗi bảng mặc định có hai trường:

- **`id`**: Mã định danh duy nhất cho mỗi hàng.
- **`created_at`**: Timestamp (dấu thời gian) khi hàng được tạo - nên giữ lại để theo dõi.

Các trường tùy chỉnh cần thêm:

- **`name`** (text): Tên cabin.
- **`maxCapacity`** (integer): Số lượng người tối đa có thể thuê cabin.
- **`regularPrice`** (integer): Giá thuê thông thường (sử dụng ký hiệu camelCase thay vì snake_case để phù hợp với JavaScript).
- **`discount`** (integer): Giảm giá hiện tại.
- **`description`** (text): Mô tả cabin.
- **`image`** (text): URL dẫn đến hình ảnh cabin được lưu trong **storage bucket** của Supabase.

**Lưu ý:** Trường `image` lưu URL (dạng text) chứ không phải file ảnh. Hình ảnh sẽ được upload lên storage bucket của Supabase, sau đó lưu URL vào trường này.

#### Thêm dữ liệu mẫu

Chèn một hàng dữ liệu mẫu:

```
name: 001
maxCapacity: 2
regularPrice: 250
discount: 50
description: Small luxury cabin in the woods
image: (để trống tạm thời)
```

Tên cabin sẽ được đánh số từ 001 đến 008.

### Tạo bảng Guests

#### Thiết lập cơ bản

- Tên bảng: **`guests`**
- Bật **Row Level Security** (RLS).


#### Các cột trong bảng Guests

- **`fullName`** (text): Tên đầy đủ của khách.
- **`email`** (text): Địa chỉ email - thông tin quan trọng khi lưu trữ thông tin khách hàng.
- **`nationality`** (text): Quốc tịch - hữu ích để biết cách chào đón khách.
- **`countryFlag`** (text): Cờ quốc gia (có thể là emoji hoặc URL).
- **`nationalID`** (text): Số ID quốc gia - phải là text vì một số quốc gia sử dụng chữ cái và số.


#### Thêm dữ liệu mẫu

Chèn một hàng dữ liệu mẫu:

```
fullName: (tên của bạn)
email: test@email.com
nationality: German
countryFlag: (để trống tạm thời)
nationalID: (để trống tạm thời)
```


### Tạo bảng Settings

#### Thiết lập cơ bản

- Tên bảng: **`settings`**
- Bật **Row Level Security** (RLS).


#### Các cột trong bảng Settings

- **`minBookingLength`** (integer): Độ dài đặt phòng tối thiểu (số đêm).
- **`maxBookingLength`** (integer): Độ dài đặt phòng tối đa (số đêm).
- **`maxGuestsPerBooking`** (integer): Số lượng khách tối đa mỗi lần đặt phòng.
- **`breakfastPrice`** (float): Giá bữa sáng - sử dụng float vì có thể là 9.99.


#### Đặc điểm của bảng Settings

Bảng này **chỉ có một hàng duy nhất** vì chỉ cần một bộ cài đặt cho toàn bộ ứng dụng.

#### Thêm dữ liệu mẫu

Chèn một hàng duy nhất:

```
minBookingLength: 3
maxBookingLength: 90
maxGuestsPerBooking: 8
breakfastPrice: 15
```


### Kết quả

Đã tạo thành công ba bảng đầu tiên:

- **Cabins**
- **Guests**
- **Settings**


### Bước tiếp theo

Tạo bảng phức tạp hơn - **Bookings** - với các kết nối foreign key đến bảng Cabins và Guests.

***

**Liên kết:** [[Cabins]], [[Guests]], [[Settings]], [[Row Level Security]], [[Storage Bucket]], [[Foreign Key]], [[Data Types]], [[Supabase]], [[PostgreSQL]], [[Table Design]]

