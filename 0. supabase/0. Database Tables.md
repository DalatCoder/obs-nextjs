```sql
-- Tạo bảng cabins
CREATE TABLE cabins (
  id BIGINT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  name TEXT NOT NULL,
  maxCapacity INTEGER NOT NULL,
  regularPrice INTEGER NOT NULL,
  discount INTEGER DEFAULT 0,
  description TEXT,
  image TEXT
);

-- Bật Row Level Security
ALTER TABLE cabins ENABLE ROW LEVEL SECURITY;

-- Thêm dữ liệu mẫu
INSERT INTO cabins (name, maxCapacity, regularPrice, discount, description)
VALUES ('001', 2, 250, 50, 'Small luxury cabin in the woods');
```

```sql
-- Tạo bảng guests
CREATE TABLE guests (
  id BIGINT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  fullName TEXT NOT NULL,
  email TEXT NOT NULL UNIQUE,
  nationality TEXT,
  countryFlag TEXT,
  nationalID TEXT
);

-- Bật Row Level Security
ALTER TABLE guests ENABLE ROW LEVEL SECURITY;

-- Thêm dữ liệu mẫu
INSERT INTO guests (fullName, email, nationality, countryFlag, nationalID)
VALUES ('Your Name', 'test@email.com', 'German', '', '');
```

```sql
-- Tạo bảng settings
CREATE TABLE settings (
  id BIGINT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  minBookingLength INTEGER NOT NULL DEFAULT 3,
  maxBookingLength INTEGER NOT NULL DEFAULT 90,
  maxGuestsPerBooking INTEGER NOT NULL DEFAULT 8,
  breakfastPrice REAL NOT NULL DEFAULT 15
);

-- Bật Row Level Security
ALTER TABLE settings ENABLE ROW LEVEL SECURITY;

-- Thêm dữ liệu mẫu (chỉ một hàng duy nhất)
INSERT INTO settings (minBookingLength, maxBookingLength, maxGuestsPerBooking, breakfastPrice)
VALUES (3, 90, 8, 15);
```

```sql
-- BẢNG bookings

CREATE TABLE bookings (
  id           BIGINT PRIMARY KEY GENERATED ALWAYS AS IDENTITY,
  created_at   TIMESTAMP WITH TIME ZONE DEFAULT NOW(),

  -- Thông tin thời gian
  startDate    TIMESTAMP WITH TIME ZONE NOT NULL,
  endDate      TIMESTAMP WITH TIME ZONE NOT NULL,
  numNights    INTEGER NOT NULL,
  numGuests    INTEGER NOT NULL,

  -- Giá tiền
  cabinPrice   REAL NOT NULL,
  extrasPrice  REAL NOT NULL,
  totalPrice   REAL NOT NULL,

  -- Trạng thái & cờ (flags)
  status       TEXT NOT NULL,        -- [translate:unconfirmed] / [translate:checked-in] / [translate:checked-out]
  hasBreakfast BOOLEAN NOT NULL DEFAULT FALSE,
  isPaid       BOOLEAN NOT NULL DEFAULT FALSE,

  -- Ghi chú
  observations TEXT,

  -- Khóa ngoại
  cabinId      BIGINT NOT NULL,
  guestId      BIGINT NOT NULL,

  CONSTRAINT fk_bookings_cabin
    FOREIGN KEY (cabinId)
    REFERENCES cabins (id)
    ON UPDATE CASCADE
    ON DELETE RESTRICT,

  CONSTRAINT fk_bookings_guest
    FOREIGN KEY (guestId)
    REFERENCES guests (id)
    ON UPDATE CASCADE
    ON DELETE RESTRICT
);

-- Bật Row Level Security
ALTER TABLE bookings ENABLE ROW LEVEL SECURITY;

-- DỮ LIỆU MẪU (giả sử đã có cabin id = 1, guest id = 1)

INSERT INTO bookings (
  startDate,
  endDate,
  numNights,
  numGuests,
  cabinPrice,
  extrasPrice,
  totalPrice,
  status,
  hasBreakfast,
  isPaid,
  observations,
  cabinId,
  guestId
) VALUES (
  '2025-06-09T15:00:00+00',  -- [translate:next Monday] (ví dụ)
  '2025-06-13T10:00:00+00',  -- [translate:Friday]
  4,
  2,
  300,
  120,
  420,
  'unconfirmed',
  TRUE,
  TRUE,
  'Arrive at 10 PM',
  1,   -- cabinId
  1    -- guestId
);
```
